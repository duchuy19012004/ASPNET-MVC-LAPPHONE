@model phonev2.Models.DichVu
@{
    Layout = "_AdminLayout";
}

@section PageActions {
    <a asp-action="Index" class="btn btn-secondary">
        <i class="fas fa-arrow-left me-1"></i> Quay Lại
    </a>
}

<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow border-danger">
            <div class="card-header bg-danger text-white">
                <h4 class="mb-0">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    Xác Nhận Xóa Dịch Vụ
                </h4>
            </div>
            <div class="card-body">
                <div class="alert alert-warning" role="alert">
                    <h5 class="alert-heading">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Cảnh Báo!
                    </h5>
                    <p class="mb-0">
                        Bạn đang chuẩn bị xóa dịch vụ <strong>"@Model.TenDichVu"</strong>. 
                        Hành động này không thể hoàn tác và sẽ xóa vĩnh viễn tất cả dữ liệu liên quan.
                    </p>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <h6 class="text-muted mb-3">
                            <i class="fas fa-info-circle me-2"></i>Thông Tin Dịch Vụ
                        </h6>
                        <table class="table table-borderless">
                            <tr>
                                <td class="text-muted">Mã dịch vụ:</td>
                                <td><strong>#@Model.MaDichVu</strong></td>
                            </tr>
                            <tr>
                                <td class="text-muted">Tên dịch vụ:</td>
                                <td><strong>@Model.TenDichVu</strong></td>
                            </tr>
                            <tr>
                                <td class="text-muted">Giá dịch vụ:</td>
                                <td><strong class="text-success">@Model.GiaDichVuText</strong></td>
                            </tr>
                            <tr>
                                <td class="text-muted">Thời gian:</td>
                                <td>
                                    @if (Model.ThoiGianSua.HasValue)
                                    {
                                        <strong>@Model.ThoiGianSua phút</strong>
                                    }
                                    else
                                    {
                                        <em class="text-muted">Chưa xác định</em>
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td class="text-muted">Trạng thái:</td>
                                <td>
                                    <span class="badge @(Model.TrangThai ? "bg-success" : "bg-secondary")">
                                        @Model.TrangThaiText
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-muted">Ngày tạo:</td>
                                <td><strong>@Model.NgayTao.ToString("dd/MM/yyyy HH:mm")</strong></td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h6 class="text-muted mb-3">
                            <i class="fas fa-align-left me-2"></i>Mô Tả
                        </h6>
                        @if (!string.IsNullOrEmpty(Model.MoTa))
                        {
                            <div class="bg-light p-3 rounded">
                                <p class="mb-0">@Model.MoTa</p>
                            </div>
                        }
                        else
                        {
                            <em class="text-muted">Chưa có mô tả</em>
                        }

                        <div class="mt-4">
                            <h6 class="text-muted mb-3">
                                <i class="fas fa-chart-bar me-2"></i>Thống Kê Sử Dụng
                            </h6>
                            <div class="row text-center">
                                <div class="col-6">
                                    <div class="border-end">
                                        <h4 class="text-primary mb-1">0</h4>
                                        <small class="text-muted">Lần sử dụng</small>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <h4 class="text-success mb-1">0 VNĐ</h4>
                                    <small class="text-muted">Doanh thu</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="my-4">

                <div class="alert alert-danger" role="alert">
                    <h6 class="alert-heading">
                        <i class="fas fa-times-circle me-2"></i>
                        Hậu Quả Của Việc Xóa
                    </h6>
                    <ul class="mb-0">
                        <li>Dịch vụ sẽ bị xóa vĩnh viễn khỏi hệ thống</li>
                        <li>Tất cả thông tin liên quan sẽ bị mất</li>
                        <li>Không thể khôi phục lại dữ liệu đã xóa</li>
                        <li>Có thể ảnh hưởng đến các phiếu sửa chữa đang sử dụng dịch vụ này</li>
                    </ul>
                </div>

                <form asp-action="Delete" method="post">
                    <input type="hidden" asp-for="MaDichVu" />
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a asp-action="Index" class="btn btn-secondary btn-lg me-2">
                            <i class="fas fa-times me-1"></i>
                            Hủy Bỏ
                        </a>
                        <button type="submit" class="btn btn-danger btn-lg">
                            <i class="fas fa-trash me-1"></i>
                            Xác Nhận Xóa
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div> 